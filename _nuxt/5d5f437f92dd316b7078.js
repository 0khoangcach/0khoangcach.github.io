(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{364:function(e,t,n){"use strict";n.r(t);n(19),n(20),n(5),n(22);var r=n(131),o=n(67),l={middleware:"auth",mixins:[r.a],data:function(){return{name:"",serial:"",nameRules:[function(e){return!!e||"Tên là bắt buộc"},function(e){return e&&e.length<=50||"Phải nhập ít hơn 50 ký tự"}],serialRules:[function(e){return!!e||"Số serial là bắt buộc"},function(e){return e&&e.length<=10||"Phải nhập ít hơn 10 ký tự"}],valid:!0,lazy:!1}},mounted:function(){this.isEdit&&(this.name=this.device.name)},methods:{onDelete:function(){var e=this;o.c.collection("devices").doc(this.device.documentId.toString()).delete().then((function(){e.gotoPage("/")})).catch((function(e){console.error("Error removing document: ",e)}))},onSave:function(){var e=this;if(this.$refs.form.validate()){var t=o.c.ref().child("devices").push().key,data={name:this.name,serial:this.serial,state:0,createdDate:(new Date).toString(),userId:this.loginUser.id},n={};n["/devices/".concat(t)]=data,n["/users/".concat(this.loginUser.id,"/").concat(t)]=!0,o.c.ref().update(n).then((function(){e.$router.push("/")}))}},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}},computed:{isEdit:function(){return this.device}},components:{}},c=n(44),d=n(59),v=n.n(d),h=n(320),f=n(333),m=n(360),w=n(361),k=n(334),x=n(366),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{staticClass:"ml-3 mr-3",staticStyle:{"margin-top":"100px"},attrs:{justify:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-form",{ref:"form",staticStyle:{width:"100%"},attrs:{"lazy-validation":e.lazy},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{outlined:"",label:"Tên thiết bị",counter:50,rules:e.nameRules,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),e.isEdit?e._e():n("v-text-field",{attrs:{outlined:"",label:"Số seri",counter:10,rules:e.serialRules,required:""},model:{value:e.serial,callback:function(t){e.serial=t},expression:"serial"}}),e._v(" "),n("v-divider",{staticClass:"mt-3 mb-5"}),e._v(" "),n("div",{attrs:{align:"center"}},[n("v-btn",{attrs:{color:"primary",height:"40"},on:{click:e.onSave}},[e._v("Lưu")]),e._v(" "),n("v-btn",{attrs:{color:"error",height:"40"},on:{click:e.onDelete}},[e._v("Xóa")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:h.a,VCol:f.a,VDivider:m.a,VForm:w.a,VRow:k.a,VTextField:x.a})}}]);